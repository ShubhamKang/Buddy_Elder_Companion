"use strict";(self.webpackChunkreact_website=self.webpackChunkreact_website||[]).push([[703],{703:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var s=r(43),o=r(196),a=r(667),n=r(615),d=r(835),l=r(579);const i=e=>{let{selectedLocation:t,editingAddress:r,onSaveSuccess:n,onClose:d,isSelectMode:i}=e;const[c,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=o.j2.onAuthStateChanged(p);return()=>e&&e()},[]);const[x,g]=(0,s.useState)({addressLabel:"",customLabel:"",contactName:"",phoneNumber:"",landmark:""}),[u,m]=(0,s.useState)(!1),[h,f]=(0,s.useState)({text:"",type:""});(0,s.useEffect)(()=>{if(r){const e=!["Home","Office"].includes(r.label);g({addressLabel:e?"Other":r.label||"",customLabel:e&&r.label||"",contactName:r.name||"",phoneNumber:r.phone||"",landmark:r.landmark||""})}else{const e=o.j2.currentUser;g({addressLabel:"",customLabel:"",contactName:(null===e||void 0===e?void 0:e.displayName)||"",phoneNumber:((null===e||void 0===e?void 0:e.phoneNumber)||"").replace("+91",""),landmark:""})}},[r]);const b=(e,t)=>{g(r=>({...r,[e]:t})),h.text&&f({text:"",type:""})},y=()=>{const{addressLabel:e,customLabel:t,contactName:r,phoneNumber:s,landmark:o}=x,a="Other"===e?t:e,n=a&&a.trim().length>0,d=r.trim().length>0,l=s.trim().length>0,i=o.trim().length>0;return n&&d&&l&&i},v={addressForm:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",zIndex:3e3,display:"block",overflowY:"auto"},header:{background:"linear-gradient(135deg, #2c5aa0 0%, #1e3d6f 100%)",color:"white",padding:"20px",display:"flex",alignItems:"center",position:"sticky",top:0,zIndex:1e3,boxShadow:"0 4px 20px rgba(44,90,160,0.3)"},backBtn:{background:"none",border:"none",color:"white",fontSize:"20px",marginRight:"15px",cursor:"pointer"},formTitle:{fontSize:"18px",fontWeight:500,margin:0},formContainer:{padding:"20px 15px",maxWidth:"100%",width:"100%",margin:"0",background:"white",borderRadius:"20px 20px 0 0",boxShadow:"0 -10px 30px rgba(0,0,0,0.1)",marginTop:"10px",minHeight:"calc(100vh - 80px)",boxSizing:"border-box"},formMessage:{marginBottom:"25px"},successMessage:{background:"#d4edda",color:"#155724",padding:"12px 15px",borderRadius:"8px",border:"1px solid #c3e6cb"},errorMessage:{background:"#f8d7da",color:"#721c24",padding:"12px 15px",borderRadius:"8px",border:"1px solid #f5c6cb"},formGroup:{marginBottom:"20px"},formLabel:{display:"block",marginBottom:"8px",fontWeight:500,color:"#333",fontSize:"14px"},formInput:{width:"100%",maxWidth:"100%",padding:"14px 16px",border:"2px solid #e9ecef",borderRadius:"12px",fontSize:"16px",background:"white",color:"#333",transition:"all 0.3s ease",outline:"none",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",boxSizing:"border-box"},formTextarea:{width:"100%",maxWidth:"100%",padding:"14px 16px",border:"2px solid #e9ecef",borderRadius:"12px",fontSize:"16px",background:"#f8f9fa",transition:"all 0.3s ease",outline:"none",minHeight:"100px",resize:"vertical",fontFamily:"inherit",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",boxSizing:"border-box"},formActions:{display:"flex",gap:"12px",marginTop:"30px",position:"sticky",bottom:0,background:"white",padding:"20px 0",borderTop:"1px solid #e0e0e0"},btn:{flex:1,padding:"15px",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},btnPrimary:{background:"#2c5aa0",color:"white"},btnSecondary:{background:"#f8f9fa",color:"#666",border:"1px solid #ddd"},spinner:{width:"20px",height:"20px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"},locationInfo:{background:"linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%)",border:"2px solid #2c5aa0",borderRadius:"16px",padding:"20px",marginBottom:"30px",boxShadow:"0 8px 25px rgba(44,90,160,0.15)"},locationInfoTitle:{margin:"0 0 10px 0",color:"#2c5aa0",fontSize:"16px",fontWeight:700,display:"flex",alignItems:"center",gap:"8px"},locationInfoText:{margin:0,color:"#495057",fontSize:"15px",lineHeight:1.5,fontWeight:500}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @media (max-width: 480px) {\n          .form-container {\n            padding: 15px 10px !important;\n          }\n          \n          .form-input {\n            padding: 12px 14px !important;\n            font-size: 16px !important;\n          }\n          \n          .form-actions {\n            flex-direction: row !important;\n            gap: 10px !important;\n          }\n          \n          .form-btn {\n            flex: 1 !important;\n            margin: 0 !important;\n          }\n        }\n        \n        @media (max-width: 360px) {\n          .form-container {\n            padding: 10px 8px !important;\n          }\n          \n          .form-input {\n            padding: 10px 12px !important;\n          }\n        }\n      "}),(0,l.jsxs)("div",{style:v.addressForm,children:[(0,l.jsxs)("div",{style:v.header,children:[(0,l.jsx)("button",{style:v.backBtn,onClick:d,children:"\u2190"}),(0,l.jsx)("h1",{style:v.formTitle,children:r?"EDIT ADDRESS":"ADD NEW ADDRESS"})]}),(0,l.jsxs)("div",{style:v.formContainer,className:"form-container",children:[h.text&&(0,l.jsx)("div",{style:v.formMessage,children:(0,l.jsx)("div",{style:"success"===h.type?v.successMessage:v.errorMessage,children:h.text})}),t&&(0,l.jsxs)("div",{style:v.locationInfo,children:[(0,l.jsx)("h4",{style:v.locationInfoTitle,children:"\ud83d\udccd Selected Location"}),(0,l.jsx)("p",{style:v.locationInfoText,children:t.address})]}),(0,l.jsxs)("div",{style:v.formGroup,children:[(0,l.jsxs)("label",{style:{...v.formLabel},children:["Address Label ",(0,l.jsx)("span",{style:{color:"#dc3545"},children:"*"})]}),(0,l.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px",flexWrap:"wrap"},children:[{label:"Home",icon:"\ud83c\udfe0",value:"Home"},{label:"Office",icon:"\ud83c\udfe2",value:"Office"},{label:"Other",icon:"\ud83d\udccd",value:"Other"}].map(e=>(0,l.jsxs)("button",{type:"button",style:{flex:"1",minWidth:"90px",padding:"12px 8px",border:x.addressLabel===e.value?"2px solid #2c5aa0":"2px solid #e9ecef",borderRadius:"12px",background:x.addressLabel===e.value?"#e3f2fd":"#f8f9fa",color:x.addressLabel===e.value?"#2c5aa0":"#666",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",transition:"all 0.3s ease"},onClick:()=>b("addressLabel",e.value),onMouseEnter:t=>{x.addressLabel!==e.value&&(t.target.style.borderColor="#2c5aa0",t.target.style.background="#f0f7ff")},onMouseLeave:t=>{x.addressLabel!==e.value&&(t.target.style.borderColor="#e9ecef",t.target.style.background="#f8f9fa")},children:[(0,l.jsx)("span",{style:{fontSize:"20px"},children:e.icon}),(0,l.jsx)("span",{children:e.label})]},e.value))}),"Other"===x.addressLabel&&(0,l.jsx)("input",{type:"text",className:"form-input",style:{...v.formInput,borderColor:"#2c5aa0",background:"white"},value:"Other"===x.addressLabel?x.customLabel||"":x.addressLabel,onChange:e=>b("customLabel",e.target.value),placeholder:"Enter custom address label",maxLength:50})]}),(0,l.jsxs)("div",{style:v.formGroup,children:[(0,l.jsxs)("label",{style:v.formLabel,children:["Contact Name ",(0,l.jsx)("span",{style:{color:"#dc3545"},children:"*"})]}),(0,l.jsx)("input",{type:"text",className:"form-input",style:{...v.formInput,borderColor:x.contactName?"#2c5aa0":"#e9ecef",background:x.contactName?"white":"#f8f9fa"},value:x.contactName,onChange:e=>b("contactName",e.target.value),placeholder:"Your name",maxLength:100,onFocus:e=>{e.target.style.borderColor="#2c5aa0",e.target.style.background="white",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(44,90,160,0.15)"},onBlur:e=>{e.target.style.borderColor=x.contactName?"#2c5aa0":"#e9ecef",e.target.style.background=x.contactName?"white":"#f8f9fa",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 10px rgba(0,0,0,0.05)"}})]}),(0,l.jsxs)("div",{style:v.formGroup,children:[(0,l.jsxs)("label",{style:v.formLabel,children:["Phone Number ",(0,l.jsx)("span",{style:{color:"#dc3545"},children:"*"})]}),(0,l.jsx)("input",{type:"tel",className:"form-input",style:v.formInput,value:x.phoneNumber,onChange:e=>{b("phoneNumber",e.target.value)},placeholder:"Your phone number",onFocus:e=>e.target.style.borderColor="#2c5aa0",onBlur:e=>e.target.style.borderColor="#ddd"})]}),(0,l.jsxs)("div",{style:v.formGroup,children:[(0,l.jsxs)("label",{style:v.formLabel,children:["Landmark ",(0,l.jsx)("span",{style:{color:"#dc3545"},children:"*"})]}),(0,l.jsx)("input",{type:"text",className:"form-input",style:v.formInput,value:x.landmark,onChange:e=>b("landmark",e.target.value),placeholder:"Any nearby landmark",maxLength:200,onFocus:e=>e.target.style.borderColor="#2c5aa0",onBlur:e=>e.target.style.borderColor="#ddd"})]}),(0,l.jsxs)("div",{style:v.formActions,className:"form-actions",children:[(0,l.jsx)("button",{className:"form-btn",style:{...v.btn,...v.btnSecondary},onClick:d,disabled:u,onMouseEnter:e=>{u||(e.target.style.background="#e9ecef")},onMouseLeave:e=>{u||(e.target.style.background="#f8f9fa")},children:"Cancel"}),(0,l.jsxs)("button",{className:"form-btn",style:{...v.btn,...v.btnPrimary,background:u||!y()?"#e9ecef":"#2c5aa0",color:u||!y()?"#6c757d":"white",cursor:u||!y()?"not-allowed":"pointer",border:u||!y()?"2px solid #dee2e6":"none",opacity:u||!y()?.7:1},onClick:async()=>{if(!(()=>{const{addressLabel:e,customLabel:t,contactName:r,phoneNumber:s,landmark:o}=x,a="Other"===e?t:e;return a&&a.trim()?r.trim()?s.trim()?!!o.trim()||(f({text:"Please enter a nearby landmark",type:"error"}),!1):(f({text:"Please enter phone number",type:"error"}),!1):(f({text:"Please enter contact name",type:"error"}),!1):(f({text:"Please select or enter address label",type:"error"}),!1)})())return;const e=o.j2.currentUser||c;if(!e)return void f({text:"Please sign in to save address",type:"error"});m(!0);const s={label:("Other"===x.addressLabel?x.customLabel:x.addressLabel).trim(),name:x.contactName.trim(),phone:x.phoneNumber.trim(),address:(null===t||void 0===t?void 0:t.address)||"Address not selected",landmark:x.landmark.trim(),lat:(null===t||void 0===t?void 0:t.lat)||0,lng:(null===t||void 0===t?void 0:t.lng)||0,updatedAt:(0,a.O5)()};try{const t=(0,a.rJ)(o.db,"users",e.uid,"addresses");let d=null;if(null!==r&&void 0!==r&&r.id){const t=(0,a.H9)(o.db,"users",e.uid,"addresses",r.id);await(0,a.mZ)(t,s),d=r.id,f({text:"Address updated successfully!",type:"success"})}else{s.createdAt=(0,a.O5)();d=(await(0,a.gS)(t,s)).id,f({text:"Address saved successfully!",type:"success"})}const l={...s,id:d};setTimeout(()=>{n(l)},1500)}catch(d){console.error("Error saving address:",d),f({text:"Error saving address. Please try again.",type:"error"})}finally{m(!1)}},disabled:u||!y(),onMouseEnter:e=>{!u&&y()&&(e.target.style.background="#1e3d6f")},onMouseLeave:e=>{!u&&y()&&(e.target.style.background="#2c5aa0")},type:"button",children:[u&&(0,l.jsx)("span",{style:v.spinner}),u?"Saving...":r?"Update Address":"Save Address"]})]})]})]})]})};console.log("Firebase db:",o.db),console.log("Environment:","production");const c=()=>{const[e,t]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=o.j2.onAuthStateChanged(t);return()=>e&&e()},[]);const r=(0,n.Zp)(),c=(0,n.zy)();console.log("Addresses component rendered, user:",e);const[p,x]=(0,s.useState)([]),[g,u]=(0,s.useState)(!0),[m,h]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),[S,j]=(0,s.useState)(null),[w,k]=(0,s.useState)(null),L=!e,A="select"===new URLSearchParams(c.search).get("mode"),C="location"===new URLSearchParams(c.search).get("mode"),N=new URLSearchParams(c.search).get("return");(0,s.useEffect)(()=>{e&&E()},[e]);const E=async()=>{if(e)try{console.log("Loading addresses for user:",e.uid),u(!0);const t=(0,a.rJ)(o.db,"users",e.uid,"addresses"),r=(await(0,a.GG)(t)).docs.map(e=>({id:e.id,...e.data()}));console.log("Loaded addresses:",r),x(r)}catch(t){console.error("Error loading addresses:",t),x([])}finally{u(!1)}else console.log("No user in loadAddresses")},I=async t=>{if(A||C){console.log("\ud83c\udfaf Address selection started:",t),console.log("\ud83c\udfaf returnPage parameter:",N);try{if(t.id){const r=(0,a.H9)(o.db,"users",e.uid,"addresses",t.id);await(0,a.mZ)(r,{lastUsed:(0,a.O5)()})}if(console.log("\u2705 Firebase update completed"),C){const e={address:t.address,name:t.label,lat:t.lat,lng:t.lng,type:"saved"};localStorage.setItem("userLocation",JSON.stringify(e))}else{const e={id:t.id,name:t.name||t.phone||"Selected Address",address:t.address,phone:t.phone,label:t.label,lat:t.lat,lng:t.lng};localStorage.setItem("selectedAddress",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("addressSelected",{detail:e}))}setTimeout(()=>{console.log("\ud83d\ude80 Executing navigation after delay..."),r(N?-1:"/home")},300)}catch(s){if(console.error("Error updating address:",s),C){const e={address:t.address,name:t.label,lat:t.lat,lng:t.lng,type:"saved"};localStorage.setItem("userLocation",JSON.stringify(e))}else{const e={id:t.id,name:t.name||t.phone||"Selected Address",address:t.address,phone:t.phone,label:t.label,lat:t.lat,lng:t.lng};localStorage.setItem("selectedAddress",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("addressSelected",{detail:e}))}setTimeout(()=>{console.log("\ud83d\ude80 Executing error navigation after delay..."),r(N?-1:"/home")},300)}}},T={container:{maxWidth:"100%",margin:"0 auto",background:"white",height:"100vh",display:"flex",flexDirection:"column"},header:{background:"#2c5aa0",color:"white",padding:"15px 20px",display:"flex",alignItems:"center",position:"fixed",top:0,left:0,right:0,zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},backBtn:{background:"none",border:"none",color:"white",fontSize:"20px",marginRight:"15px",cursor:"pointer"},headerTitle:{fontSize:"18px",fontWeight:500,margin:0},addressBook:{padding:"20px",backgroundColor:"#f5f5f5",flex:1,overflowY:"auto",marginTop:"60px"},addNewAddress:{background:"white",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"15px 20px",marginBottom:"20px",display:"flex",alignItems:"center",cursor:"pointer",transition:"all 0.3s ease"},addIcon:{color:"#2c5aa0",fontSize:"20px",marginRight:"15px"},addText:{color:"#2c5aa0",fontSize:"16px",fontWeight:500},arrowRight:{marginLeft:"auto",color:"#666"},sectionTitle:{color:"#999",fontSize:"14px",marginBottom:"15px",textTransform:"uppercase",letterSpacing:"0.5px"},addressItem:{background:"white",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"15px",marginBottom:"15px",position:"relative",cursor:A||C?"pointer":"default",transition:"all 0.3s ease"},loading:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",color:"#666"},spinner:{width:"20px",height:"20px",border:"2px solid #f3f3f3",borderTop:"2px solid #2c5aa0",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"10px"},emptyState:{textAlign:"center",color:"#666",padding:"40px 20px"},addressHeader:{display:"flex",alignItems:"center",marginBottom:"10px"},addressIcon:{fontSize:"20px",marginRight:"15px",color:"#666"},addressTitle:{fontSize:"16px",fontWeight:500,color:"#333"},addressLabel:{background:"#f0f0f0",color:"#666",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",marginLeft:"10px"},addressText:{color:"#666",fontSize:"14px",lineHeight:1.4,marginLeft:"35px"},addressActions:{display:A||C?"none":"flex",gap:"15px",marginTop:"15px",marginLeft:"35px"},actionBtn:{background:"none",border:"none",color:"#2c5aa0",cursor:"pointer",fontSize:"16px",padding:"5px",borderRadius:"4px",transition:"background 0.3s ease"},deleteBtn:{background:"none",border:"none",color:"#dc3545",cursor:"pointer",fontSize:"16px",padding:"5px",borderRadius:"4px",transition:"background 0.3s ease"},modal:{display:m?"flex":"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",zIndex:2e3,alignItems:"center",justifyContent:"center"},modalContent:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"500px",maxHeight:"80vh",overflow:"hidden"},modalHeader:{padding:"20px",borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between"},modalTitle:{fontSize:"18px",fontWeight:600},closeBtn:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666"},modalBody:{padding:"20px",maxHeight:"60vh",overflowY:"auto"}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "}),(0,l.jsxs)("div",{style:T.container,children:[(0,l.jsxs)("div",{style:T.header,children:[(0,l.jsx)("button",{style:T.backBtn,onClick:()=>{r(A||C?"/home":-1)},children:"\u2190"}),(0,l.jsx)("h1",{style:T.headerTitle,children:A||C?"SELECT ADDRESS":"ADDRESS BOOK"})]}),(0,l.jsxs)("div",{style:T.addressBook,children:[(0,l.jsxs)("div",{style:T.addNewAddress,onClick:()=>h(!0),children:[(0,l.jsx)("span",{style:T.addIcon,children:"+"}),(0,l.jsx)("span",{style:T.addText,children:A||C?"Select Location and Add Address":"Add New Address"}),(0,l.jsx)("span",{style:T.arrowRight,children:"\u203a"})]}),(0,l.jsx)("div",{style:T.sectionTitle,children:A||C?"SELECT YOUR SAVED ADDRESS":"YOUR SAVED ADDRESS"}),L||g?(0,l.jsxs)("div",{style:T.loading,children:[(0,l.jsx)("div",{style:T.spinner}),"Loading addresses..."]}):0===p.length?(0,l.jsx)("div",{style:T.emptyState,children:A||C?"No saved addresses yet. Add a new address to continue.":"No saved addresses yet"}):p.map(t=>{var r,s;const n=t.name||t.phone||"Address",d="office"===(null===(r=t.label)||void 0===r?void 0:r.toLowerCase())?"\ud83c\udfe2":"home"===(null===(s=t.label)||void 0===s?void 0:s.toLowerCase())?"\ud83c\udfe0":"\ud83d\udccd",i=A||C?{...T.addressItem,cursor:"pointer",position:"relative"}:T.addressItem;return(0,l.jsxs)("div",{style:i,onClick:()=>(A||C)&&I(t),children:[(A||C)&&(0,l.jsx)("div",{style:{position:"absolute",right:"15px",top:"50%",transform:"translateY(-50%)",color:"#2c5aa0",fontSize:"18px",fontWeight:"bold"},children:"\u2192"}),(0,l.jsxs)("div",{style:T.addressHeader,children:[(0,l.jsx)("span",{style:T.addressIcon,children:d}),(0,l.jsx)("span",{style:T.addressTitle,children:n}),(0,l.jsx)("span",{style:T.addressLabel,children:t.label||"Address"})]}),(0,l.jsx)("div",{style:T.addressText,children:t.address||"No address provided"}),(0,l.jsxs)("div",{style:T.addressText,children:["\ud83d\udcde ",t.phone||"No phone"]}),(0,l.jsxs)("div",{style:T.addressActions,children:[(0,l.jsx)("button",{style:T.actionBtn,onClick:()=>(e=>{j(e),k({address:e.address,lat:e.lat,lng:e.lng}),v(!0)})(t),children:"\u270f\ufe0f"}),(0,l.jsx)("button",{style:T.deleteBtn,onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this address?"))try{const r=(0,a.H9)(o.db,"users",e.uid,"addresses",t);await(0,a.kd)(r),await E()}catch(r){console.error("Error deleting address:",r),alert("Error deleting address. Please try again.")}})(t.id),children:"\ud83d\uddd1\ufe0f"})]})]},t.id)})]}),(0,l.jsx)("div",{style:T.modal,children:(0,l.jsxs)("div",{style:T.modalContent,children:[(0,l.jsxs)("div",{style:T.modalHeader,children:[(0,l.jsx)("h2",{style:T.modalTitle,children:"Select Location"}),(0,l.jsx)("button",{style:T.closeBtn,onClick:()=>h(!1),children:"\xd7"})]}),(0,l.jsxs)("div",{style:T.modalBody,children:[(0,l.jsxs)("div",{style:T.addNewAddress,onClick:()=>{h(!1),b(!0)},children:[(0,l.jsx)("span",{style:T.addIcon,children:"\ud83d\udccd"}),(0,l.jsx)("span",{style:T.addText,children:"Add New Address"}),(0,l.jsx)("span",{style:T.arrowRight,children:"\u203a"})]}),(0,l.jsx)("div",{style:T.sectionTitle,children:"YOUR SAVED ADDRESS"}),0===p.length?(0,l.jsx)("div",{style:T.emptyState,children:"No saved addresses yet. Add a new address to continue."}):p.map(e=>{var t,r;const s=e.name||e.phone||"Address",o="office"===(null===(t=e.label)||void 0===t?void 0:t.toLowerCase())?"\ud83c\udfe2":"home"===(null===(r=e.label)||void 0===r?void 0:r.toLowerCase())?"\ud83c\udfe0":"\ud83d\udccd";return(0,l.jsxs)("div",{style:{...T.addressItem,cursor:"pointer",position:"relative"},onClick:()=>{h(!1),I(e)},children:[(0,l.jsx)("div",{style:{position:"absolute",right:"15px",top:"50%",transform:"translateY(-50%)",color:"#2c5aa0",fontSize:"18px",fontWeight:"bold"},children:"\u2192"}),(0,l.jsxs)("div",{style:T.addressHeader,children:[(0,l.jsx)("span",{style:T.addressIcon,children:o}),(0,l.jsx)("span",{style:T.addressTitle,children:s}),(0,l.jsx)("span",{style:T.addressLabel,children:e.label||"Address"})]}),(0,l.jsx)("div",{style:T.addressText,children:e.address||"No address provided"}),(0,l.jsxs)("div",{style:T.addressText,children:["\ud83d\udcde ",e.phone||"No phone"]})]},e.id)})]})]})})]}),f&&(0,l.jsx)(d.A,{onLocationSelect:e=>{if(k(e),b(!1),C){const s={address:e.address,name:e.name||"Current Location",lat:e.lat,lng:e.lng,type:"current"};try{localStorage.setItem("userLocation",JSON.stringify(s)),window.dispatchEvent(new CustomEvent("userLocationUpdated",{detail:s}))}catch(t){}r("/home")}else v(!0)},onClose:()=>b(!1)}),y&&(0,l.jsx)(i,{selectedLocation:w,editingAddress:S,onSaveSuccess:e=>{if(E(),v(!1),j(null),k(null),!A&&!C||S)try{alert("Address saved successfully")}catch(t){}else setTimeout(()=>{I(e)},500)},onClose:()=>{v(!1),j(null),k(null)},isSelectMode:A||C})]})},p=()=>{try{return(0,l.jsx)(c,{})}catch(e){return console.error("Error in Addresses component:",e),(0,l.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,l.jsx)("h2",{children:"Error Loading Addresses"}),(0,l.jsx)("p",{children:"Something went wrong. Please refresh the page."}),!1,(0,l.jsx)("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]})}}}}]);
//# sourceMappingURL=703.0df7b507.chunk.js.map