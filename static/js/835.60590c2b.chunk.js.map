{"version":3,"file":"static/js/835.60590c2b.chunk.js","mappings":"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","sources":["services/locationService.js","adress&location/mapcomp.jsx"],"sourcesContent":["// Web-only lightweight location service (no Capacitor)\nconst GeolocationAPI = {\n  async getCurrentPosition(options) {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject({ code: 'UNSUPPORTED', message: 'Geolocation not supported' });\n        return;\n      }\n      navigator.geolocation.getCurrentPosition(resolve, (err) => reject(err), options);\n    });\n  },\n  async watchPosition(options, cb) {\n    if (!navigator.geolocation) return null;\n    const id = navigator.geolocation.watchPosition((pos) => cb(pos, null), (err) => cb(null, err), options);\n    return id;\n  },\n  async clearWatch({ id }) {\n    if (id != null && navigator.geolocation) navigator.geolocation.clearWatch(id);\n  }\n};\nconst Platform = { isNative: false, getPlatform: () => 'web' };\nconst App = { openSettings: async () => {} };\n\n/**\n * Enhanced Location Service - Zepto/Swiggy Style\n * Handles all permission scenarios and provides native app experience\n */\nclass LocationService {\n  constructor() {\n    this.isNative = Platform.isNative;\n    this.platform = Platform.getPlatform();\n    this.permissionStatus = null;\n    this.locationWatchId = null;\n  }\n\n  /**\n   * Attempt to request the OS high-accuracy dialog (Android) if not already enabled.\n   * Uses cordova-plugin-request-location-accuracy when available. Safe-no-op on web.\n   */\n  async ensureHighAccuracy() {\n    if (!this.isNative || this.platform !== 'android') return;\n\n    const LA = window?.cordova?.plugins?.locationAccuracy;\n    if (!LA) return; // plugin not installed â€“ skip\n\n    return new Promise((resolve) => {\n      try {\n        LA.canRequest((canRequest) => {\n          if (!canRequest) return resolve(false);\n\n          LA.request(LA.REQUEST_PRIORITY_HIGH_ACCURACY,\n            () => {\n              console.log('[LocationService] High-accuracy location enabled');\n              resolve(true);\n            },\n            (err) => {\n              console.warn('[LocationService] High-accuracy request failed', err);\n              resolve(false);\n            }\n          );\n        });\n      } catch (e) {\n        console.warn('[LocationService] ensureHighAccuracy exception', e);\n        resolve(false);\n      }\n    });\n  }\n\n  /**\n   * Check current permission status\n   */\n  async checkPermissionStatus() {\n    try {\n      // Web only\n      if (navigator.permissions) {\n        const result = await navigator.permissions.query({ name: 'geolocation' });\n        return result.state;\n      }\n      return 'prompt';\n    } catch (error) {\n      console.error('Permission check error:', error);\n      return 'prompt';\n    }\n  }\n\n  /**\n   * Request location permission with proper handling\n   */\n  async requestPermission() {\n    try {\n      const currentStatus = await this.checkPermissionStatus();\n      \n      if (currentStatus === 'granted') {\n        return { status: 'granted', needsSettings: false };\n      }\n      \n      if (currentStatus === 'denied') {\n        // Permission was previously denied\n        return { status: 'denied', needsSettings: true };\n      }\n      \n      // Request permission\n      // Web - trigger permission prompt by getting location\n      try {\n        await this.getCurrentLocation();\n        return { status: 'granted', needsSettings: false };\n      } catch (error) {\n        if (error.code === 1 || error.code === 'PERMISSION_DENIED') {\n          return { status: 'denied', needsSettings: true };\n        }\n        throw error;\n      }\n    } catch (error) {\n      console.error('Permission request error:', error);\n      return { status: 'error', error: error.message, needsSettings: false };\n    }\n  }\n\n  /**\n   * Get current location with timeout and retry logic\n   */\n  async getCurrentLocation(options = {}) {\n    const defaultOptions = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    };\n    \n    const finalOptions = { ...defaultOptions, ...options };\n    \n    try {\n      // Web-only implementation\n      const position = await GeolocationAPI.getCurrentPosition(finalOptions);\n      return {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        timestamp: position.timestamp\n      };\n    } catch (error) {\n      throw this.handleLocationError(error);\n    }\n  }\n\n  /**\n   * Watch location changes (for live tracking)\n   */\n  async watchLocation(callback, options = {}) {\n    const defaultOptions = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    };\n    \n    const finalOptions = { ...defaultOptions, ...options };\n    \n    try {\n      this.locationWatchId = await GeolocationAPI.watchPosition(finalOptions, (position, err) => {\n        if (err) {\n          callback(null, this.handleLocationError(err));\n        } else {\n          callback({\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude,\n            accuracy: position.coords.accuracy,\n            timestamp: position.timestamp\n          }, null);\n        }\n      });\n      \n      return this.locationWatchId;\n    } catch (error) {\n      throw this.handleLocationError(error);\n    }\n  }\n\n  /**\n   * Stop watching location\n   */\n  async clearWatch() {\n    if (this.locationWatchId) {\n      await GeolocationAPI.clearWatch({ id: this.locationWatchId });\n      this.locationWatchId = null;\n    }\n  }\n\n  /**\n   * Open app settings (for native apps)\n   */\n  async openAppSettings() {\n    if (this.isNative && this.platform === 'android') {\n      try {\n        // Try to open app settings using Capacitor App plugin\n        await App.openSettings();\n        return true;\n      } catch (error) {\n        console.error('Failed to open settings:', error);\n        return false;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Handle location errors consistently\n   */\n  handleLocationError(error) {\n    const errorMap = {\n      1: { code: 'PERMISSION_DENIED', message: 'Location permission denied' },\n      2: { code: 'POSITION_UNAVAILABLE', message: 'Location unavailable' },\n      3: { code: 'TIMEOUT', message: 'Location request timed out' }\n    };\n\n    if (error.code && errorMap[error.code]) {\n      return { ...errorMap[error.code], originalError: error };\n    }\n    \n    return {\n      code: 'UNKNOWN_ERROR',\n      message: error.message || 'Unknown location error',\n      originalError: error\n    };\n  }\n\n  /**\n   * Get human-readable address from coordinates (reverse geocoding)\n   */\n  async getAddressFromCoords(latitude, longitude) {\n    // Prefer Google Maps Geocoder to avoid CORS\n    try {\n      if (window.google?.maps?.Geocoder) {\n        const geocoder = new window.google.maps.Geocoder();\n        const res = await new Promise((resolve) => {\n          geocoder.geocode({ location: { lat: latitude, lng: longitude } }, (results, status) => {\n            if (status === 'OK' && results && results.length > 0) {\n              const r = results[0];\n              resolve({\n                formatted: r.formatted_address,\n                components: {\n                  area: r.address_components.find(c=>c.types.includes('sublocality'))?.long_name || '',\n                  city: r.address_components.find(c=>c.types.includes('locality'))?.long_name || '',\n                  state: r.address_components.find(c=>c.types.includes('administrative_area_level_1'))?.long_name || '',\n                  country: r.address_components.find(c=>c.types.includes('country'))?.long_name || '',\n                  pincode: r.address_components.find(c=>c.types.includes('postal_code'))?.long_name || ''\n                }\n              });\n            } else {\n              resolve(null);\n            }\n          });\n        });\n        if (res) return res;\n      }\n    } catch (e) {\n      // fall through to REST\n    }\n\n    try {\n      const key = 'AIzaSyC62wo52XfJDOBnJc6VAQDDbse3a-KKy-k';\n      const resp = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&key=${key}`);\n      if (resp.ok) {\n        const data = await resp.json();\n        const r = data.results?.[0];\n        if (r) {\n          return {\n            formatted: r.formatted_address,\n            components: {}\n          };\n        }\n      }\n    } catch (_) {}\n\n    // Final fallback: coordinates only\n    return null;\n  }\n\n  /**\n   * Check if location services are enabled on device\n   */\n  async isLocationEnabled() {\n    if (this.isNative) {\n      try {\n        // Try to get location with short timeout\n        await this.getCurrentLocation({ timeout: 2000 });\n        return true;\n      } catch (error) {\n        if (error.code === 'POSITION_UNAVAILABLE') {\n          return false;\n        }\n        return true; // Assume enabled for other errors\n      }\n    }\n    return true; // Always true for web\n  }\n}\n\n// Export singleton instance\nexport const locationService = new LocationService();\nexport default locationService; ","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport locationService from '../services/locationService';\n// Lightweight web shims to avoid external/native deps in web build\nconst GOOGLE_MAPS_API_KEY = 'AIzaSyC62wo52XfJDOBnJc6VAQDDbse3a-KKy-k';\nconst loadGoogleMapsAPI = async () => {\n  if (window.google && window.google.maps) return;\n  const script = document.createElement('script');\n  script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&libraries=places`;\n  script.async = true;\n  await new Promise((res, rej) => { script.onload = res; script.onerror = rej; document.head.appendChild(script); });\n};\nconst defaultMapOptions = { zoom: 14, gestureHandling: 'greedy' };\nconst createCleanMarkerIcon = () => undefined;\nconst Capacitor = { isNativePlatform: () => false, getPlatform: () => 'web' };\nconst Geolocation = { getCurrentPosition: (opts) => new Promise((res, rej)=> navigator.geolocation.getCurrentPosition(res, rej, opts)), checkPermissions: async()=>({location:'granted'}) };\nconst App = { openSettings: async()=>{} };\nconst Device = { getInfo: async()=>({ platform:'web' }) };\n\nconst Map = ({ onLocationSelect, onClose }) => {\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markerRef = useRef(null);\n  const autocompleteTimeoutRef = useRef(null);\n  \n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const [currentPosition, setCurrentPosition] = useState({\n    lat: 26.8467,\n    lng: 80.9462\n  });\n  const [mapLoading, setMapLoading] = useState(true);\n  const [locationLoading, setLocationLoading] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const [useRealMap, setUseRealMap] = useState(false);\n  const [showLocationDialog, setShowLocationDialog] = useState(false);\n  const [showHighAccuracyDialog, setShowHighAccuracyDialog] = useState(false);\n  const [isCapacitorApp, setIsCapacitorApp] = useState(false);\n  const [locationAttempts, setLocationAttempts] = useState(0);\n  const [enableHighAccuracy, setEnableHighAccuracy] = useState(false);\n  const [isPermanentlyDenied, setIsPermanentlyDenied] = useState(false);\n  \n  // Simple toast notification\n  const [toast, setToast] = useState({\n    show: false,\n    message: '',\n    type: 'success'\n  });\n\n  // AUTOCOMPLETE STATE\n  const [autocompleteResults, setAutocompleteResults] = useState([]);\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [autocompleteLoading, setAutocompleteLoading] = useState(false);\n  const [selectedSuggestionIndex, setSelectedSuggestionIndex] = useState(-1);\n  const [searchInputRef, setSearchInputRef] = useState(null);\n\n  // *** FIX: Add useEffect for component cleanup ***\n  useEffect(() => {\n    // This is the cleanup function that runs when the component unmounts\n    return () => {\n      console.log('Unmounting Map component and cleaning up resources...');\n\n      // 1. Clean up Google Map instance to free memory\n      if (mapInstanceRef.current) {\n        console.log('Cleaning up Google Map instance.');\n        // Setting to null helps garbage collection\n        mapInstanceRef.current = null;\n      }\n\n      // 2. Clean up the map marker\n      if (markerRef.current) {\n        console.log('Cleaning up map marker.');\n        markerRef.current.setMap(null); // Remove marker from map\n        markerRef.current = null;\n      }\n\n      // 3. Clean up any other potential listeners or timeouts\n      if (autocompleteTimeoutRef.current) {\n        clearTimeout(autocompleteTimeoutRef.current);\n      }\n      \n      // Note: App listeners like 'appStateChange' should also be removed here\n      // if they were added. The current implementation adds them inside another function,\n      // so we need to ensure they are tracked and removed properly.\n      // For now, focusing on the map instance is the highest priority.\n    };\n  }, []); // Empty dependency array means this runs only on mount and unmount\n\n\n  // Simple toast function\n  const showToast = (message, type = 'success') => {\n    console.log('ğŸ”” Toast:', message, type);\n    setToast({ show: true, message, type });\n    setTimeout(() => {\n      setToast({ show: false, message: '', type: 'success' });\n    }, 3000);\n  };\n\n  // REPILL/SWIGGY STYLE: Automatic permission handling (No manual requestPermissions)\n  const useCurrentLocation = async () => {\n    if (locationLoading) return;\n    \n    console.log('ğŸ“ Starting automatic location request (Repill style)...');\n    \n    // Clear any existing toasts\n    setToast({ show: false, message: '', type: 'success' });\n    \n    // Reset flags and try location - let getCurrentPosition handle permissions automatically\n    console.log('ğŸ“‹ Letting getCurrentPosition handle permissions automatically...');\n    setIsPermanentlyDenied(false);\n    requestCapacitorLocation();\n  };\n\n  // GOOGLE HIGH ACCURACY FLOW: Always request high accuracy to trigger Google dialog\n  const requestCapacitorLocation = async () => {\n    try {\n      setLocationLoading(true);\n      console.log('ğŸ“± Requesting location with high accuracy to trigger Google dialog...');\n      \n      // Always use high accuracy to trigger Google's \"Turn on location accuracy?\" dialog\n      const position = await Geolocation.getCurrentPosition({\n        enableHighAccuracy: true, // Always true to trigger Google dialog\n        timeout: 20000,\n        maximumAge: 30000\n      });\n      \n      console.log('âœ… Location obtained with high accuracy:', position);\n      await processLocationSuccess(position);\n      \n    } catch (error) {\n      console.error('âŒ Location error:', error);\n      const errorMessage = error.message || '';\n      \n      // Check if it's a permission error\n      if (errorMessage.includes('permission') || \n          errorMessage.includes('denied') || \n          errorMessage.includes('User denied') ||\n          error.code === 1) {\n        \n        console.log('ğŸš« Permission denied - checking if permanent...');\n        \n        // Try to check permission status to detect \"Don't ask again\"\n        try {\n          const permissionStatus = await Geolocation.checkPermissions();\n          if (permissionStatus.location === 'denied') {\n            // \"Don't ask again\" detected - show Hindi settings dialog\n            console.log('ğŸš« \"Don\\'t ask again\" detected - showing Hindi settings dialog');\n            setIsPermanentlyDenied(true);\n            setShowLocationDialog(true);\n            showToast('Location permanently blocked. à¤•à¥ƒà¤ªà¤¯à¤¾ settings à¤®à¥‡à¤‚ à¤œà¤¾à¤•à¤° enable à¤•à¤°à¥‡à¤‚à¥¤', 'info');\n          } else {\n            // Normal denial - can retry next time\n            console.log('âš ï¸ Normal permission denial - can retry');\n            setShowLocationDialog(true);\n            showToast('Location access denied. à¤•à¥ƒà¤ªà¤¯à¤¾ permission allow à¤•à¤°à¥‡à¤‚à¥¤', 'info');\n          }\n        } catch (checkError) {\n          // Error checking permission - assume permanent denial\n          console.log('ğŸš« Permission check failed - assuming permanent denial');\n          setIsPermanentlyDenied(true);\n          setShowLocationDialog(true);\n          showToast('Location access denied. à¤•à¥ƒà¤ªà¤¯à¤¾ settings à¤®à¥‡à¤‚ enable à¤•à¤°à¥‡à¤‚à¥¤', 'info');\n        }\n        \n      } else {\n        // Location accuracy issue or Google dialog \"No thanks\" clicked\n        console.log('ğŸ“ Location accuracy issue - showing custom high accuracy dialog');\n        setShowHighAccuracyDialog(true);\n        showToast('Location accuracy required. à¤•à¥ƒà¤ªà¤¯à¤¾ high accuracy enable à¤•à¤°à¥‡à¤‚à¥¤', 'info');\n      }\n    }\n    \n    setLocationLoading(false);\n  };\n\n  // Browser location request (fallback)\n  const requestBrowserLocation = () => {\n    if (!navigator.geolocation) {\n      showToast('Location not supported on this device', 'error');\n      return;\n    }\n    \n    setLocationLoading(true);\n    console.log('ğŸŒ Requesting browser location...');\n    \n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        try {\n          console.log('âœ… Browser location obtained:', position);\n          await processLocationSuccess(position);\n        } catch (error) {\n          console.error('Address fetch error:', error);\n          showToast('Location detected but address could not be found', 'info');\n        }\n        setLocationLoading(false);\n      },\n      (error) => {\n        console.error('âŒ Browser location error:', error);\n        setLocationLoading(false);\n        \n        if (error.code === 1) { // PERMISSION_DENIED\n          setShowLocationDialog(true);\n        } else if (error.code === 2) { // POSITION_UNAVAILABLE\n          showToast('ğŸ“¡ Location not available. Please check your location settings.', 'error');\n        } else if (error.code === 3) { // TIMEOUT\n          showToast('â±ï¸ Location request timed out. Please try again.', 'error');\n        } else {\n          showToast('âŒ Unable to get location. Please try again or search manually.', 'error');\n        }\n      },\n      {\n        enableHighAccuracy: enableHighAccuracy,\n        timeout: enableHighAccuracy ? 20000 : 15000,\n        maximumAge: 60000\n      }\n    );\n  };\n\n  // Process successful location - shared function with enhanced address resolution\n  const processLocationSuccess = async (position) => {\n    const newPosition = { \n      lat: position.coords.latitude, \n      lng: position.coords.longitude \n    };\n    setCurrentPosition(newPosition);\n\n    console.log('ğŸ” Resolving address for coordinates:', newPosition);\n    \n    let resolvedAddress = null;\n    let locationName = 'Current Location';\n\n    // FIX 1: Try Google's Geocoding API first (most accurate)\n    if (window.google?.maps?.Geocoder) {\n      try {\n        console.log('ğŸŒ Using Google Geocoding API...');\n        const geocoder = new window.google.maps.Geocoder();\n        \n        const googleAddress = await new Promise((resolve) => {\n          geocoder.geocode({ location: newPosition }, (results, status) => {\n            if (status === 'OK' && results && results.length > 0) {\n              const result = results[0];\n              console.log('âœ… Google geocoding success:', result.formatted_address);\n              resolve({\n                formatted: result.formatted_address,\n                name: result.address_components[0]?.long_name || 'Current Location',\n                components: {\n                  area: result.address_components.find(c => c.types.includes('sublocality'))?.long_name || '',\n                  city: result.address_components.find(c => c.types.includes('locality'))?.long_name || ''\n                }\n              });\n            } else {\n              console.log('âš ï¸ Google geocoding failed:', status);\n              resolve(null);\n            }\n          });\n        });\n\n        if (googleAddress) {\n          resolvedAddress = googleAddress.formatted;\n          locationName = googleAddress.name;\n        }\n      } catch (error) {\n        console.error('âŒ Google geocoding error:', error);\n      }\n    }\n\n    // FIX 2: Fallback to our location service (if Google failed)\n    if (!resolvedAddress) {\n      try {\n        console.log('ğŸ”„ Fallback to location service...');\n        const serviceAddress = await locationService.getAddressFromCoords(\n          position.coords.latitude, \n          position.coords.longitude\n        );\n        \n        if (serviceAddress?.formatted) {\n          resolvedAddress = serviceAddress.formatted;\n          console.log('âœ… Location service success:', resolvedAddress);\n        }\n      } catch (error) {\n        console.error('âŒ Location service error:', error);\n      }\n    }\n\n    // FIX 3: Final fallback to coordinates (NO wrong city names)\n    if (!resolvedAddress) {\n      resolvedAddress = `ğŸ“ ${position.coords.latitude.toFixed(4)}, ${position.coords.longitude.toFixed(4)}`;\n      console.log('ğŸ“ Using coordinates as fallback:', resolvedAddress);\n    }\n\n    const locationData = {\n      ...newPosition,\n      address: resolvedAddress,\n      name: locationName,\n      accuracy: position.coords.accuracy\n    };\n    \n    console.log('ğŸ¯ Final location data:', locationData);\n    setSelectedLocation(locationData);\n\n    // Update map if available\n    if (mapInstanceRef.current && markerRef.current) {\n      markerRef.current.setPosition(newPosition);\n      mapInstanceRef.current.panTo(newPosition);\n      mapInstanceRef.current.setZoom(17);\n    }\n\n    const accuracyText = position.coords.accuracy ? ` (Â±${Math.round(position.coords.accuracy)}m)` : '';\n    const highAccText = enableHighAccuracy ? ' [High Accuracy]' : '';\n    showToast(`ğŸ“ Location detected${accuracyText}${highAccText}!`, 'success');\n  };\n\n  // REMOVED: Complex app state change handling - keeping it simple\n\n  // REMOVED: Auto-detection on startup - keeping it simple\n\n  // Initialize map and detect platform\n  useEffect(() => {\n    let isMounted = true;\n    \n    // Detect platform properly\n    const isNativeApp = Capacitor.isNativePlatform();\n    setIsCapacitorApp(isNativeApp);\n    console.log('ğŸ” Platform detected:', isNativeApp ? 'Capacitor App' : 'Browser');\n    \n    sessionStorage.setItem('mapComponentActive', 'true');\n    \n    const initializeMap = async () => {\n      if (!isMounted) return;\n      \n      try {\n        console.log('ğŸ—ºï¸ Initializing map...');\n        \n        // Check if Google Maps is already loaded\n        if (window.google && window.google.maps) {\n          console.log('âœ… Google Maps already loaded');\n          setupRealMap();\n        } else {\n          console.log('ğŸ”„ Loading Google Maps API...');\n          await loadGoogleMapsAPI();\n          if (isMounted && window.google && window.google.maps) {\n            console.log('âœ… Google Maps loaded successfully');\n            setupRealMap();\n          } else {\n            throw new Error('Google Maps failed to load');\n          }\n        }\n      } catch (error) {\n        console.warn('âš ï¸ Map initialization failed:', error);\n        if (isMounted) {\n          setUseRealMap(false);\n          setMapLoading(false);\n        }\n      }\n    };\n    \n    const setupRealMap = () => {\n      if (!isMounted || !mapRef.current) return;\n      \n      try {\n        console.log('ğŸ”§ Setting up Google Maps...');\n        \n        const map = new window.google.maps.Map(mapRef.current, {\n          ...defaultMapOptions,\n          center: currentPosition,\n          disableDefaultUI: true,\n          zoomControl: true,\n          zoomControlOptions: {\n            position: window.google.maps.ControlPosition.RIGHT_BOTTOM\n          }\n        });\n        \n        mapInstanceRef.current = map;\n        \n        // Create custom clean marker\n        const marker = new window.google.maps.Marker({\n          position: currentPosition,\n          map: map,\n          draggable: true,\n          title: 'Drag to select location',\n          icon: createCleanMarkerIcon(),\n          animation: window.google.maps.Animation.DROP\n        });\n        \n        markerRef.current = marker;\n        \n        // Add event listeners\n        marker.addListener('dragend', () => {\n          if (!isMounted) return;\n          const position = marker.getPosition();\n          const newPos = {\n            lat: position.lat(),\n            lng: position.lng()\n          };\n          setCurrentPosition(newPos);\n          updateAddressFromCoordinates(newPos);\n        });\n        \n        map.addListener('click', (event) => {\n          if (!isMounted) return;\n          const newPos = {\n            lat: event.latLng.lat(),\n            lng: event.latLng.lng()\n          };\n          marker.setPosition(newPos);\n          setCurrentPosition(newPos);\n          updateAddressFromCoordinates(newPos);\n        });\n        \n        if (isMounted) {\n          setUseRealMap(true);\n          setMapLoading(false);\n          console.log('ğŸ‰ Google Maps ready!');\n        }\n        \n      } catch (error) {\n        console.error('âŒ Map setup error:', error);\n        if (isMounted) {\n          setUseRealMap(false);\n          setMapLoading(false);\n        }\n      }\n    };\n    \n    initializeMap();\n    \n    return () => {\n      isMounted = false;\n      sessionStorage.removeItem('mapComponentActive');\n      \n      // Cleanup\n      if (mapInstanceRef.current) {\n        try {\n          window.google.maps.event.clearInstanceListeners(mapInstanceRef.current);\n        } catch (error) {\n          console.log('Map cleanup error:', error);\n        }\n      }\n      \n      if (markerRef.current) {\n        try {\n          window.google.maps.event.clearInstanceListeners(markerRef.current);\n          markerRef.current.setMap(null);\n        } catch (error) {\n          console.log('Marker cleanup error:', error);\n        }\n      }\n      \n      console.log('ğŸ§¹ Cleanup completed');\n    };\n  }, []);\n\n  const updateAddressFromCoordinates = async (position) => {\n    console.log('ğŸ” Updating address for map interaction:', position);\n    \n    let resolvedAddress = null;\n    let locationName = 'Selected Location';\n\n    try {\n      // PRIMARY: Use Google's Geocoding API (most accurate)\n      if (window.google?.maps?.Geocoder) {\n        const geocoder = new window.google.maps.Geocoder();\n        \n        const googleResult = await new Promise((resolve) => {\n          geocoder.geocode({ location: position }, (results, status) => {\n            if (status === 'OK' && results && results.length > 0) {\n              const result = results[0];\n              console.log('âœ… Map interaction - Google geocoding success:', result.formatted_address);\n              resolve({\n                address: result.formatted_address,\n                name: result.address_components[0]?.long_name || 'Selected Location'\n              });\n            } else {\n              console.log('âš ï¸ Map interaction - Google geocoding failed:', status);\n              resolve(null);\n            }\n          });\n        });\n\n        if (googleResult) {\n          resolvedAddress = googleResult.address;\n          locationName = googleResult.name;\n        }\n      }\n\n      // FALLBACK: Use our location service\n      if (!resolvedAddress) {\n        try {\n          console.log('ğŸ”„ Map interaction - Using location service fallback...');\n          const serviceAddress = await locationService.getAddressFromCoords(position.lat, position.lng);\n          if (serviceAddress?.formatted) {\n            resolvedAddress = serviceAddress.formatted;\n            console.log('âœ… Map interaction - Location service success:', resolvedAddress);\n          }\n        } catch (serviceError) {\n          console.error('âŒ Map interaction - Location service error:', serviceError);\n        }\n      }\n\n      // FINAL FALLBACK: Coordinates (NO wrong city names)\n      if (!resolvedAddress) {\n        resolvedAddress = `ğŸ“ ${position.lat.toFixed(4)}, ${position.lng.toFixed(4)}`;\n        console.log('ğŸ“ Map interaction - Using coordinates fallback:', resolvedAddress);\n      }\n\n      const locationData = {\n        address: resolvedAddress,\n        lat: position.lat,\n        lng: position.lng,\n        name: locationName\n      };\n      \n      console.log('ğŸ¯ Map interaction - Final location:', locationData);\n      setSelectedLocation(locationData);\n\n    } catch (error) {\n      console.error('âŒ Map interaction - Address update error:', error);\n      // Emergency fallback\n      setSelectedLocation({\n        address: `ğŸ“ ${position.lat.toFixed(4)}, ${position.lng.toFixed(4)}`,\n        lat: position.lat,\n        lng: position.lng,\n        name: 'Selected Location'\n      });\n    }\n  };\n\n  const handleSearch = async (searchText) => {\n    if (!searchText.trim() || !useRealMap) return;\n    \n    try {\n      if (window.google.maps.places && window.google.maps.places.AutocompleteService) {\n        const autocompleteService = new window.google.maps.places.AutocompleteService();\n        const placesService = new window.google.maps.places.PlacesService(document.createElement('div'));\n        \n        const request = {\n          input: searchText,\n          componentRestrictions: { country: 'IN' },\n          types: ['establishment', 'geocode']\n        };\n        \n        autocompleteService.getPlacePredictions(request, (predictions, status) => {\n          if (status === window.google.maps.places.PlacesServiceStatus.OK && predictions && predictions.length > 0) {\n            const prediction = predictions[0];\n            \n            const detailRequest = {\n              placeId: prediction.place_id,\n              fields: ['name', 'geometry', 'formatted_address', 'place_id']\n            };\n            \n            placesService.getDetails(detailRequest, (place, detailStatus) => {\n              if (detailStatus === window.google.maps.places.PlacesServiceStatus.OK && place) {\n                const position = {\n                  lat: place.geometry.location.lat(),\n                  lng: place.geometry.location.lng()\n                };\n                \n                setSelectedLocation({\n                  address: place.formatted_address,\n                  lat: position.lat,\n                  lng: position.lng,\n                  name: place.name || 'Selected Location'\n                });\n                \n                setCurrentPosition(position);\n                \n                if (mapInstanceRef.current && markerRef.current) {\n                  mapInstanceRef.current.panTo(position);\n                  mapInstanceRef.current.setZoom(16);\n                  markerRef.current.setPosition(position);\n                }\n                \n                showToast(`Location found: ${place.formatted_address}`, 'success');\n              }\n            });\n          } else {\n            showToast('No locations found. Try a different search term.', 'error');\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Search error:', error);\n      showToast('Search failed. Please try again.', 'error');\n    }\n    \n    setSearchValue('');\n  };\n\n  const handleConfirmLocation = () => {\n    console.log('ğŸ”˜ Confirm button clicked, selectedLocation:', selectedLocation);\n    \n    if (selectedLocation) {\n      console.log('âœ… Location confirmed, calling onLocationSelect with:', selectedLocation);\n      onLocationSelect(selectedLocation);\n    } else {\n      console.log('âŒ No location selected');\n      showToast('Please select a location first', 'info');\n    }\n  };\n\n  // Enhanced Native Settings Opening (Using OpenAppSettings Plugin + Fallbacks)\n  const openDeviceSettings = async () => {\n    try {\n      if (isCapacitorApp && Capacitor.isNativePlatform()) {\n        // Close any open dialogs first\n        setShowLocationDialog(false);\n        setShowHighAccuracyDialog(false);\n        \n        console.log('ğŸ”§ Opening native settings with enhanced methods...');\n        \n        let settingsOpened = false;\n        \n        // Get device info for better targeting\n        const deviceInfo = await Device.getInfo();\n        console.log('ğŸ“± Device Info:', deviceInfo);\n        \n        // Method 1: openappsettings plugin - Most reliable\n        try {\n          console.log('ğŸ”¸ Trying openappsettings plugin...');\n          if (window.cordova && window.cordova.plugins.settings) {\n            window.cordova.plugins.settings.open(\"application_details\", \n              () => {\n                console.log('âœ… Settings opened via cordova-open-native-settings plugin');\n                settingsOpened = true;\n              },\n              () => {\n                console.error('âŒ Failed to open settings via cordova plugin');\n              }\n            );\n          } else {\n            console.log('cordova-open-native-settings plugin not available.');\n          }\n        } catch (openSettingsError) {\n          console.log('âš ï¸ openappsettings failed, trying fallback methods:', openSettingsError.message);\n          \n          // Method 2: Native App.openSettings() fallback\n          try {\n            console.log('ğŸ”¸ Trying native App.openSettings()...');\n            await App.openSettings();\n            settingsOpened = true;\n            console.log('âœ… Native settings opened successfully');\n            showToast('ğŸ”§ Go to Permissions â†’ Location â†’ Allow', 'info');\n          } catch (appError) {\n            console.log('âš ï¸ Native App.openSettings() failed:', appError.message);\n          }\n        }\n        \n        if (settingsOpened) {\n          // Start monitoring for permission changes\n          console.log('ğŸ”„ Settings opened, starting auto-detection...');\n          startPermissionMonitoring();\n          \n          // Enhanced feedback message\n          setTimeout(() => {\n            showToast('ğŸ’¡ We\\'ll automatically detect when you enable location and return to the app!', 'info');\n          }, 2000);\n        } else {\n          // Enhanced fallback with specific device instructions\n          console.log('âš ï¸ All native methods failed, showing device-specific manual instructions');\n          showEnhancedManualInstructions(deviceInfo);\n        }\n      }\n    } catch (error) {\n      console.error('âŒ Enhanced settings opening error:', error);\n      showEnhancedManualInstructions();\n    }\n  };\n\n  // Enhanced manual instructions based on device\n  const showEnhancedManualInstructions = async (deviceInfo = null) => {\n    try {\n      if (!deviceInfo) {\n        deviceInfo = await Device.getInfo();\n      }\n      \n      let instructions = '';\n      let icon = 'ğŸ“±';\n      \n      if (deviceInfo.platform === 'android') {\n        icon = 'ğŸ¤–';\n        if (deviceInfo.manufacturer?.toLowerCase().includes('samsung')) {\n          instructions = 'Samsung: Settings â†’ Apps â†’ DhipyCare â†’ Permissions â†’ Location â†’ Allow';\n        } else if (deviceInfo.manufacturer?.toLowerCase().includes('xiaomi')) {\n          instructions = 'Xiaomi: Settings â†’ Apps â†’ Manage apps â†’ DhipyCare â†’ Permissions â†’ Location';\n        } else if (deviceInfo.manufacturer?.toLowerCase().includes('huawei')) {\n          instructions = 'Huawei: Settings â†’ Apps â†’ DhipyCare â†’ Permissions â†’ Location â†’ Allow';\n        } else {\n          instructions = 'Android: Settings â†’ Apps â†’ DhipyCare â†’ Permissions â†’ Location â†’ Allow';\n        }\n      } else if (deviceInfo.platform === 'ios') {\n        icon = 'ğŸ';\n        instructions = 'iOS: Settings â†’ Privacy & Security â†’ Location Services â†’ DhipyCare â†’ While Using App';\n      } else {\n        instructions = 'Please enable location permission for DhipyCare in your device settings';\n      }\n      \n      console.log('ğŸ“– Enhanced instructions for', deviceInfo.manufacturer, deviceInfo.model, ':', instructions);\n      showToast(`${icon} ${instructions}`, 'info');\n      \n      // Show dialog after instructions\n      setTimeout(() => {\n        setShowLocationDialog(true);\n      }, 2000);\n      \n      // Still start monitoring\n      startPermissionMonitoring();\n      \n    } catch (error) {\n      console.error('Error showing enhanced instructions:', error);\n      showToast('Please enable location permission for DhipyCare in device settings', 'info');\n      startPermissionMonitoring();\n    }\n  };\n\n  // Show manual settings instructions as fallback\n  const showManualSettingsInstructions = () => {\n    const platform = Capacitor.getPlatform();\n    let instructions = '';\n    \n    if (platform === 'android') {\n      instructions = 'Manual: Settings â†’ Apps â†’ DhipyCare â†’ Permissions â†’ Location â†’ Allow';\n    } else if (platform === 'ios') {\n      instructions = 'Manual: Settings â†’ Privacy â†’ Location â†’ DhipyCare â†’ While Using App';\n    } else {\n      instructions = 'Please enable location permission for DhipyCare in device settings';\n    }\n    \n    console.log('ğŸ“– Manual instructions:', instructions);\n    showToast(instructions, 'info');\n    \n    // Show dialog with detailed steps\n    setTimeout(() => {\n      setShowLocationDialog(true);\n    }, 2000);\n    \n    // Still start monitoring in case user manually goes to settings\n    startPermissionMonitoring();\n  };\n\n  // Start monitoring for permission changes (auto detection) - Enhanced\n  const startPermissionMonitoring = () => {\n    console.log('ğŸ”„ Starting permission monitoring...');\n    \n    const checkInterval = setInterval(async () => {\n      try {\n        if (!isCapacitorApp) {\n          console.log('ğŸ›‘ Not a Capacitor app, stopping monitoring');\n          clearInterval(checkInterval);\n          return;\n        }\n        \n        const permission = await Geolocation.checkPermissions();\n        console.log('ğŸ” Monitoring check - permission:', permission.location);\n        \n        if (permission.location === 'granted') {\n          console.log('âœ… Location permission auto-detected as granted!');\n          \n          // Reset all denial flags\n          setIsPermanentlyDenied(false);\n          setLocationAttempts(0);\n          \n          // Clear monitoring\n          clearInterval(checkInterval);\n          \n          // Close any open dialogs\n          setShowLocationDialog(false);\n          setShowHighAccuracyDialog(false);\n          \n          // Auto-trigger location detection\n          showToast('ğŸ‰ Location enabled! Getting your location...', 'success');\n          setTimeout(() => {\n            requestCapacitorLocation();\n          }, 1000);\n        }\n      } catch (error) {\n        console.error('âŒ Error in permission monitoring:', error);\n        clearInterval(checkInterval);\n      }\n    }, 3000); // Check every 3 seconds\n\n    // Stop monitoring after 3 minutes to prevent battery drain\n    setTimeout(() => {\n      clearInterval(checkInterval);\n      console.log('ğŸ›‘ Stopped permission monitoring after 3 minutes');\n    }, 180000);\n  };\n\n  // Persistent Location Dialog Handlers\n  const handleLocationDialogRetry = () => {\n    setShowLocationDialog(false);\n    \n    if (isCapacitorApp && isPermanentlyDenied) {\n      // If permanently denied in Capacitor, open settings instead of retry\n      openDeviceSettings();\n    } else {\n      // SIMPLIFIED RETRY: Direct location request instead of useCurrentLocation\n      console.log('ğŸ”„ Retrying location request - direct call to requestCapacitorLocation');\n      setIsPermanentlyDenied(false); // Reset flag for retry\n      requestCapacitorLocation(); // Direct call to avoid infinite loops\n    }\n  };\n\n  const handleLocationDialogSettings = () => {\n    setShowLocationDialog(false);\n    if (isCapacitorApp) {\n      openDeviceSettings();\n    } else {\n      showToast('Please allow location access in browser settings and refresh the page.', 'info');\n    }\n  };\n\n  const handleLocationDialogSkip = () => {\n    setShowLocationDialog(false);\n    showToast('Please search for your location manually using the search bar.', 'info');\n  };\n\n  // High Accuracy Dialog Handlers - Google Dialog Retry Flow\n  const handleHighAccuracyEnable = () => {\n    setShowHighAccuracyDialog(false);\n    console.log('ğŸ¯ User enabled high accuracy - retrying Google accuracy dialog');\n    // Retry location request - this will trigger Google's \"Turn on location accuracy?\" again\n    requestCapacitorLocation();\n  };\n\n  const handleHighAccuracySkip = () => {\n    setShowHighAccuracyDialog(false);\n    console.log('â­ï¸ User skipped high accuracy - will retry next time');\n    showToast('Location accuracy skipped. à¤†à¤ª à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚ à¤­à¥€ enable à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤', 'info');\n  };\n\n  // Persistent Location Permission Dialog (Swiggy/Zepto style)\n  const PersistentLocationDialog = () => {\n    if (!showLocationDialog) return null;\n\n    return (\n      <div style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'rgba(0, 0, 0, 0.6)',\n        zIndex: 10000,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '20px',\n        boxSizing: 'border-box'\n      }}>\n        <div style={{\n          background: 'white',\n          borderRadius: '16px',\n          padding: '24px',\n          maxWidth: '380px',\n          width: '100%',\n          textAlign: 'center',\n          boxShadow: '0 10px 40px rgba(0,0,0,0.15)'\n        }}>\n          <div style={{ fontSize: '48px', marginBottom: '16px' }}>ğŸ“</div>\n          \n          <h3 style={{\n            fontSize: '20px',\n            fontWeight: '600',\n            marginBottom: '12px',\n            color: '#1f2937'\n          }}>\n            {isCapacitorApp && isPermanentlyDenied \n              ? 'Enable Location Services' \n              : 'Location Access Required'\n            }\n          </h3>\n          \n          <p style={{\n            fontSize: '16px',\n            color: '#6b7280',\n            lineHeight: '1.5',\n            marginBottom: '24px'\n          }}>\n            {isCapacitorApp && isPermanentlyDenied\n              ? (\n                <div>\n                  <div style={{ marginBottom: '12px' }}>\n                    à¤•à¥ˆà¤¸à¥‡ location allow à¤•à¤°à¥‡à¤‚:\n                  </div>\n                  <div style={{ \n                    background: '#f9fafb', \n                    padding: '12px', \n                    borderRadius: '8px', \n                    fontSize: '14px',\n                    textAlign: 'left',\n                    border: '1px solid #e5e7eb'\n                  }}>\n                    <strong>ğŸ“± Android:</strong><br/>\n                    Settings â†’ Apps â†’ DhipyCare â†’ Permissions â†’ Location â†’ Allow\n                    <br/><br/>\n                    <strong>ğŸ iOS:</strong><br/>\n                    Settings â†’ Privacy â†’ Location Services â†’ DhipyCare â†’ While Using App\n                  </div>\n                </div>\n              )\n              : isCapacitorApp \n              ? 'à¤¹à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¥‡ à¤ªà¤¾à¤¸ à¤•à¥‡ healthcare services à¤–à¥‹à¤œà¤¨à¥‡ à¤”à¤° accurate delivery à¤•à¥‡ à¤²à¤¿à¤ location access à¤šà¤¾à¤¹à¤¿à¤à¥¤'\n              : 'Please allow location access in your browser to automatically detect your current location for better service.'\n            }\n          </p>\n\n          <div style={{ marginBottom: '16px' }}>\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px',\n              padding: '12px',\n              background: '#f3f4f6',\n              borderRadius: '8px',\n              marginBottom: '8px'\n            }}>\n              <span style={{ fontSize: '20px' }}>ğŸ¥</span>\n              <span style={{ fontSize: '14px', color: '#374151' }}>\n                Find nearby doctors & services\n              </span>\n            </div>\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px',\n              padding: '12px',\n              background: '#f3f4f6',\n              borderRadius: '8px'\n            }}>\n              <span style={{ fontSize: '20px' }}>ğŸšš</span>\n              <span style={{ fontSize: '14px', color: '#374151' }}>\n                Accurate delivery tracking\n              </span>\n            </div>\n          </div>\n\n          {/* Repill-style button layout */}\n          {isCapacitorApp && isPermanentlyDenied ? (\n            // Repill style: CANCEL and SETTINGS in row, then Grant Permission below\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '16px'\n            }}>\n              <div style={{ display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\n                <button\n                  onClick={handleLocationDialogSkip}\n                  style={{\n                    background: 'transparent',\n                    color: '#6b7280',\n                    border: 'none',\n                    padding: '12px 20px',\n                    fontSize: '16px',\n                    fontWeight: '500',\n                    cursor: 'pointer',\n                    textTransform: 'uppercase'\n                  }}\n                >\n                  CANCEL\n                </button>\n                \n                <button\n                  onClick={openDeviceSettings}\n                  style={{\n                    background: 'transparent',\n                    color: '#2c5aa0',\n                    border: 'none',\n                    padding: '12px 20px',\n                    fontSize: '16px',\n                    fontWeight: '500',\n                    cursor: 'pointer',\n                    textTransform: 'uppercase'\n                  }}\n                >\n                  SETTINGS\n                </button>\n              </div>\n              \n              <div style={{ textAlign: 'center', margin: '8px 0' }}>\n                <span style={{ fontSize: '14px', color: '#9ca3af', fontWeight: '500' }}>OR</span>\n              </div>\n              \n              <button\n                onClick={handleLocationDialogRetry}\n                style={{\n                  background: 'linear-gradient(135deg, #2c5aa0 0%, #1e3d6f 100%)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  padding: '16px',\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  width: '100%'\n                }}\n              >\n                Grant Permission\n              </button>\n            </div>\n          ) : (\n            // Normal dialog layout for first-time requests\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '12px'\n            }}>\n              <button\n                onClick={handleLocationDialogRetry}\n                style={{\n                  background: 'linear-gradient(135deg, #2c5aa0 0%, #1e3d6f 100%)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '12px',\n                  padding: '16px',\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease'\n                }}\n              >\n                Allow Location Access\n              </button>\n              \n              <div style={{ display: 'flex', gap: '8px' }}>\n                <button\n                  onClick={handleLocationDialogSettings}\n                  style={{\n                    background: '#f3f4f6',\n                    color: '#374151',\n                    border: 'none',\n                    borderRadius: '8px',\n                    padding: '12px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    cursor: 'pointer',\n                    flex: 1\n                  }}\n                >\n                  Settings\n                </button>\n                \n                <button\n                  onClick={handleLocationDialogSkip}\n                  style={{\n                    background: '#f3f4f6',\n                    color: '#374151',\n                    border: 'none',\n                    borderRadius: '8px',\n                    padding: '12px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    cursor: 'pointer',\n                    flex: 1\n                  }}\n                >\n                  Search Manually\n                </button>\n              </div>\n            </div>\n          )}\n          \n          <div style={{\n            fontSize: '12px',\n            color: '#9ca3af',\n            marginTop: '16px',\n            lineHeight: '1.4'\n          }}>\n            {isCapacitorApp && isPermanentlyDenied \n              ? 'Permission Denied â€¢ Open Settings Required'\n              : `Attempt ${locationAttempts} â€¢ ${isCapacitorApp ? 'Native App' : 'Browser'}`\n            }\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // High Accuracy Dialog\n  const HighAccuracyDialog = () => {\n    if (!showHighAccuracyDialog) return null;\n\n    return (\n      <div style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'rgba(0, 0, 0, 0.6)',\n        zIndex: 10000,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '20px',\n        boxSizing: 'border-box'\n      }}>\n        <div style={{\n          background: 'white',\n          borderRadius: '16px',\n          padding: '24px',\n          maxWidth: '380px',\n          width: '100%',\n          textAlign: 'center',\n          boxShadow: '0 10px 40px rgba(0,0,0,0.15)'\n        }}>\n          <div style={{ fontSize: '48px', marginBottom: '16px' }}>ğŸ¯</div>\n          \n          <h3 style={{\n            fontSize: '20px',\n            fontWeight: '600',\n            marginBottom: '12px',\n            color: '#1f2937'\n          }}>\n            High Accuracy Required\n          </h3>\n          \n          <p style={{\n            fontSize: '16px',\n            color: '#6b7280',\n            lineHeight: '1.5',\n            marginBottom: '24px'\n          }}>\n            <div style={{ marginBottom: '12px' }}>\n              à¤¬à¥‡à¤¹à¤¤à¤° location accuracy à¤•à¥‡ à¤²à¤¿à¤ Google à¤•à¤¾ \"Turn on location accuracy\" dialog à¤«à¤¿à¤° à¤¸à¥‡ à¤¦à¤¿à¤–à¤¾à¤à¤‚?\n            </div>\n            <div style={{ fontSize: '14px', color: '#9ca3af' }}>\n              This will show Google's location accuracy dialog again for precise location detection.\n            </div>\n          </p>\n\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '12px'\n          }}>\n            <button\n              onClick={handleHighAccuracyEnable}\n              style={{\n                background: 'linear-gradient(135deg, #059669 0%, #047857 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '12px',\n                padding: '16px',\n                fontSize: '16px',\n                fontWeight: '600',\n                cursor: 'pointer'\n              }}\n            >\n              ğŸ¯ Show Google Accuracy Dialog\n            </button>\n            \n            <button\n              onClick={handleHighAccuracySkip}\n              style={{\n                background: '#f3f4f6',\n                color: '#374151',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '12px',\n                fontSize: '14px',\n                fontWeight: '500',\n                cursor: 'pointer'\n              }}\n            >\n              Skip / à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚ à¤•à¤°à¥‡à¤‚\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Simple app resume handler - reset flags when permission granted after settings\n  useEffect(() => {\n    if (!isCapacitorApp) return;\n    \n    const handleAppStateChange = async (state) => {\n      if (state.isActive && isPermanentlyDenied) {\n        console.log('ğŸ“± App resumed - checking if location was enabled in settings');\n        \n        try {\n          const permission = await Geolocation.checkPermissions();\n          if (permission.location === 'granted') {\n            console.log('âœ… Location now enabled - resetting flags');\n            setIsPermanentlyDenied(false);\n            setShowLocationDialog(false);\n            showToast('ğŸ‰ Location enabled! à¤†à¤ª à¤…à¤¬ current location use à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤', 'success');\n          }\n        } catch (error) {\n          console.log('Error checking permission on app resume:', error);\n        }\n      }\n    };\n    \n    // Web build: no-op\n    return () => {};\n  }, [isCapacitorApp, isPermanentlyDenied]);\n\n  // DEBOUNCED SEARCH - triggers real-time autocomplete\n  const handleInputChange = (value) => {\n    console.log('ğŸ” handleInputChange called with:', value);\n    setSearchValue(value);\n    \n    // Clear previous timeout\n    if (autocompleteTimeoutRef.current) {\n      clearTimeout(autocompleteTimeoutRef.current);\n    }\n    \n    // Hide autocomplete if value is empty\n    if (!value.trim()) {\n      setShowAutocomplete(false);\n      setAutocompleteResults([]);\n      return;\n    }\n    \n    console.log('â±ï¸ Setting debounce timer for autocomplete search...');\n    // Debounce search - wait 300ms after user stops typing\n    autocompleteTimeoutRef.current = setTimeout(() => {\n      console.log('ğŸš€ Debounce complete, calling performAutocompleteSearch...');\n      performAutocompleteSearch(value);\n    }, 300);\n  };\n\n  const performAutocompleteSearch = async (searchText) => {\n    // FIXED: Remove useRealMap dependency and improve API checking\n    if (!searchText.trim() || searchText.length < 2) {\n      setAutocompleteResults([]);\n      setShowAutocomplete(false);\n      setAutocompleteLoading(false);\n      return;\n    }\n\n    try {\n      setAutocompleteLoading(true);\n      console.log('ğŸ” Performing autocomplete search for:', searchText);\n      \n      // ENHANCED: Better Google Places API availability check\n      const isGooglePlacesAvailable = () => {\n        return window.google && \n               window.google.maps && \n               window.google.maps.places && \n               window.google.maps.places.AutocompleteService;\n      };\n\n      // FIXED: Wait for Google Maps to load if not available\n      if (!isGooglePlacesAvailable()) {\n        console.log('â³ Google Places API not ready, waiting...');\n        \n        // Try to load Google Maps API if not loaded\n        if (!window.google || !window.google.maps) {\n          try {\n            await loadGoogleMapsAPI();\n            console.log('âœ… Google Maps API loaded for autocomplete');\n          } catch (error) {\n            console.error('âŒ Failed to load Google Maps API:', error);\n            setAutocompleteLoading(false);\n            showToast('Search temporarily unavailable. Please try current location.', 'info');\n            return;\n          }\n        }\n        \n        // Double check after loading attempt\n        if (!isGooglePlacesAvailable()) {\n          console.error('âŒ Google Places API still not available');\n          setAutocompleteLoading(false);\n          setAutocompleteResults([]);\n          setShowAutocomplete(false);\n          showToast('Search service unavailable. Please use current location or try again later.', 'info');\n          return;\n        }\n      }\n      \n      console.log('âœ… Google Places API ready, performing search...');\n      const autocompleteService = new window.google.maps.places.AutocompleteService();\n      \n      // FIX: Removed 'types' entirely for broader search results\n      // This includes all location types: establishments, addresses, geocoded locations\n      // No types restriction = more comprehensive autocomplete results\n      const request = {\n        input: searchText,\n        componentRestrictions: { country: 'IN' }\n      };\n      \n      autocompleteService.getPlacePredictions(request, (predictions, status) => {\n        setAutocompleteLoading(false);\n        console.log('ğŸ” Autocomplete response:', status, predictions?.length || 0, 'results');\n        \n        if (status === window.google.maps.places.PlacesServiceStatus.OK && predictions && predictions.length > 0) {\n          // Format predictions for display\n          const formattedResults = predictions.slice(0, 6).map((prediction, index) => ({\n            id: prediction.place_id,\n            primaryText: prediction.structured_formatting?.main_text || prediction.description,\n            secondaryText: prediction.structured_formatting?.secondary_text || '',\n            fullText: prediction.description,\n            placeId: prediction.place_id,\n            index: index\n          }));\n          \n          console.log('âœ… Autocomplete results formatted:', formattedResults.length);\n          console.log('ğŸ“‹ Setting autocomplete results:', formattedResults);\n          setAutocompleteResults(formattedResults);\n          setShowAutocomplete(true);\n          console.log('ğŸ‘ï¸ Setting showAutocomplete to TRUE');\n          setSelectedSuggestionIndex(-1);\n        } else {\n          console.log('âš ï¸ No autocomplete results or API error:', status);\n          setAutocompleteResults([]);\n          setShowAutocomplete(searchText.length >= 2); // Show \"no results\" message\n        }\n      });\n      \n    } catch (error) {\n      console.error('âŒ Autocomplete search error:', error);\n      setAutocompleteLoading(false);\n      setAutocompleteResults([]);\n      setShowAutocomplete(false);\n      showToast('Search error. Please try again.', 'error');\n    }\n  };\n\n  // HANDLE SUGGESTION SELECTION\n  const handleSuggestionSelect = async (suggestion) => {\n    console.log('ğŸ¯ Suggestion selected:', suggestion);\n    if (!suggestion?.placeId) {\n      console.error('âŒ No placeId found in suggestion');\n      return;\n    }\n    \n    try {\n      setAutocompleteLoading(true);\n      setShowAutocomplete(false);\n      setSearchValue(suggestion.primaryText);\n      console.log('ğŸ” Getting place details for placeId:', suggestion.placeId);\n      \n      if (window.google?.maps?.places?.PlacesService) {\n        const placesService = new window.google.maps.places.PlacesService(document.createElement('div'));\n        \n        const detailRequest = {\n          placeId: suggestion.placeId,\n          fields: ['name', 'geometry', 'formatted_address', 'place_id', 'types']\n        };\n        \n        placesService.getDetails(detailRequest, (place, status) => {\n          console.log('ğŸ“ Place details response:', status, place);\n          setAutocompleteLoading(false);\n          \n          if (status === window.google.maps.places.PlacesServiceStatus.OK && place) {\n            const position = {\n              lat: place.geometry.location.lat(),\n              lng: place.geometry.location.lng()\n            };\n            \n            console.log('âœ… New position:', position);\n            \n            // Update location data\n            const newLocation = {\n              address: place.formatted_address,\n              lat: position.lat,\n              lng: position.lng,\n              name: place.name || suggestion.primaryText,\n              placeId: place.place_id\n            };\n            \n            console.log('ğŸ¯ Setting new location:', newLocation);\n            setSelectedLocation(newLocation);\n            setCurrentPosition(position);\n            \n            // Update map\n            if (mapInstanceRef.current && markerRef.current) {\n              console.log('ğŸ—ºï¸ Updating map position');\n              mapInstanceRef.current.panTo(position);\n              mapInstanceRef.current.setZoom(16);\n              markerRef.current.setPosition(position);\n            } else {\n              console.warn('âš ï¸ Map not available for update');\n            }\n            \n            showToast(`ğŸ“ Location selected: ${place.formatted_address}`, 'success');\n            \n            // Clear search after delay\n            setTimeout(() => {\n              setSearchValue('');\n            }, 1500);\n          } else {\n            console.error('âŒ Place details failed:', status);\n            showToast('Unable to get location details. Please try again.', 'error');\n          }\n        });\n      } else {\n        console.error('âŒ Places service not available');\n        setAutocompleteLoading(false);\n        showToast('Places service not available. Please try again.', 'error');\n      }\n    } catch (error) {\n      console.error('âŒ Suggestion selection error:', error);\n      showToast('Error selecting location. Please try again.', 'error');\n      setAutocompleteLoading(false);\n    }\n  };\n\n  // KEYBOARD NAVIGATION for autocomplete\n  const handleKeyDown = (e) => {\n    if (!showAutocomplete || autocompleteResults.length === 0) return;\n    \n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setSelectedSuggestionIndex(prev => \n          prev < autocompleteResults.length - 1 ? prev + 1 : 0\n        );\n        break;\n        \n      case 'ArrowUp':\n        e.preventDefault();\n        setSelectedSuggestionIndex(prev => \n          prev > 0 ? prev - 1 : autocompleteResults.length - 1\n        );\n        break;\n        \n      case 'Enter':\n        e.preventDefault();\n        if (selectedSuggestionIndex >= 0 && autocompleteResults[selectedSuggestionIndex]) {\n          handleSuggestionSelect(autocompleteResults[selectedSuggestionIndex]);\n        } else if (searchValue.trim()) {\n          // Fallback to original search if no suggestion selected\n          handleSearch(searchValue);\n          setShowAutocomplete(false);\n        }\n        break;\n        \n      case 'Escape':\n        setShowAutocomplete(false);\n        setSelectedSuggestionIndex(-1);\n        if (searchInputRef) {\n          searchInputRef.blur();\n        }\n        break;\n        \n      default:\n        break;\n    }\n  };\n\n  // AUTOCOMPLETE DROPDOWN COMPONENT\n  const AutocompleteDropdown = () => {\n    console.log('ğŸ¨ AutocompleteDropdown render - showAutocomplete:', showAutocomplete, 'results:', autocompleteResults.length);\n    if (!showAutocomplete) return null;\n\n    return (\n      <div \n        role=\"listbox\"\n        style={{\n          position: 'absolute',\n          top: '100%', // FIX: Right below the search input\n          left: '0',\n          right: '0',\n          background: 'white',\n          borderRadius: '0 0 8px 8px', // Rounded bottom corners only\n          boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\n          zIndex: 2000,\n          maxHeight: '300px',\n          overflowY: 'auto',\n          border: '1px solid #e5e7eb',\n          borderTop: 'none' // No top border to connect with search input\n        }}>\n        {autocompleteLoading && (\n          <div style={{\n            padding: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '12px',\n            color: '#6b7280',\n            fontSize: '14px'\n          }}>\n            <div style={{\n              width: '16px',\n              height: '16px',\n              border: '2px solid #e5e7eb',\n              borderTop: '2px solid #2c5aa0',\n              borderRadius: '50%',\n              animation: 'spin 1s linear infinite'\n            }}></div>\n            Searching...\n          </div>\n        )}\n\n        {!autocompleteLoading && autocompleteResults.length === 0 && searchValue.length >= 2 && (\n          <div style={{\n            padding: '16px',\n            color: '#6b7280',\n            fontSize: '14px',\n            textAlign: 'center'\n          }}>\n            No locations found for \"{searchValue}\"\n          </div>\n        )}\n\n        {!autocompleteLoading && autocompleteResults.map((suggestion, index) => (\n          <div\n            key={suggestion.placeId}\n            role=\"option\"\n            onClick={() => handleSuggestionSelect(suggestion)}\n            onMouseDown={(e) => {\n              // FIX: Prevent blur event when clicking suggestions\n              e.preventDefault();\n              handleSuggestionSelect(suggestion);\n            }}\n            style={{\n              padding: '12px 16px',\n              cursor: 'pointer',\n              borderBottom: index < autocompleteResults.length - 1 ? '1px solid #f3f4f6' : 'none',\n              background: selectedSuggestionIndex === index ? '#f8fafc' : 'transparent',\n              transition: 'background-color 0.2s ease',\n              ':hover': {\n                backgroundColor: '#f8fafc'\n              }\n            }}\n            onMouseEnter={() => setSelectedSuggestionIndex(index)}\n            onMouseLeave={() => setSelectedSuggestionIndex(-1)}\n          >\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px'\n            }}>\n              <span style={{\n                fontSize: '18px',\n                color: '#6b7280',\n                minWidth: '20px'\n              }}>\n                ğŸ“\n              </span>\n              \n              <div style={{ flex: 1, minWidth: 0 }}>\n                <div style={{\n                  fontSize: '15px',\n                  fontWeight: '600',\n                  color: '#1f2937',\n                  marginBottom: '2px',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                  whiteSpace: 'nowrap'\n                }}>\n                  {suggestion.primaryText}\n                </div>\n                \n                {suggestion.secondaryText && (\n                  <div style={{\n                    fontSize: '13px',\n                    color: '#6b7280',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  }}>\n                    {suggestion.secondaryText}\n                  </div>\n                )}\n              </div>\n              \n              {selectedSuggestionIndex === index && (\n                <span style={{\n                  fontSize: '16px',\n                  color: '#2c5aa0'\n                }}>\n                  â†’\n                </span>\n              )}\n            </div>\n          </div>\n        ))}\n        \n        {!autocompleteLoading && autocompleteResults.length > 0 && (\n          <div style={{\n            padding: '8px 16px',\n            fontSize: '12px',\n            color: '#9ca3af',\n            textAlign: 'center',\n            borderTop: '1px solid #f3f4f6',\n            background: '#f9fafb'\n          }}>\n            â†‘â†“ Navigate â€¢ Enter to select â€¢ Esc to close\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Cleanup autocomplete timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (autocompleteTimeoutRef.current) {\n        clearTimeout(autocompleteTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <>\n      {/* Persistent Location Dialog */}\n      <PersistentLocationDialog />\n      \n      {/* High Accuracy Dialog */}\n      <HighAccuracyDialog />\n\n      {/* Toast Notification */}\n      {toast.show && (\n        <div style={{\n          position: 'fixed',\n          top: '100px',\n          left: '50%',\n          transform: 'translateX(-50%)',\n          zIndex: 999999,\n          maxWidth: '350px',\n          width: '90%',\n          padding: '15px 20px',\n          borderRadius: '12px',\n          boxShadow: '0 8px 25px rgba(0,0,0,0.15)',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px',\n          fontSize: '14px',\n          fontWeight: '500',\n          animation: 'fadeInUp 0.3s ease-out',\n          background: toast.type === 'success' ? 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)' :\n                     toast.type === 'error' ? 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)' :\n                     'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n          color: 'white'\n        }}>\n          <span style={{ fontSize: '16px' }}>\n            {toast.type === 'success' ? 'âœ…' : toast.type === 'error' ? 'âŒ' : 'â„¹ï¸'}\n          </span>\n          <span>{toast.message}</span>\n        </div>\n      )}\n      \n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        @keyframes fadeInUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n      `}</style>\n\n      <div style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'white',\n        zIndex: 3000,\n        display: 'block'\n      }}>\n        {/* Header */}\n        <div style={{\n          background: '#2c5aa0',\n          color: 'white',\n          padding: '15px 20px',\n          display: 'flex',\n          alignItems: 'center'\n        }}>\n          <button \n            style={{\n              background: 'none',\n              border: 'none',\n              color: 'white',\n              fontSize: '20px',\n              marginRight: '15px',\n              cursor: 'pointer'\n            }}\n            onClick={onClose}\n          >\n            â†\n          </button>\n          <h1 style={{\n            fontSize: '16px',\n            fontWeight: 500,\n            margin: 0\n          }}>\n            VERIFY AND SET MAP PIN LOCATION\n          </h1>\n          {!mapLoading && (\n            <div style={{\n              marginLeft: 'auto',\n              fontSize: '12px',\n              opacity: 0.8,\n              display: 'flex',\n              alignItems: 'center',\n              gap: '5px'\n            }}>\n              <div style={{\n                width: '8px',\n                height: '8px',\n                borderRadius: '50%',\n                background: useRealMap ? '#4CAF50' : '#FFC107'\n              }}></div>\n              {useRealMap ? 'Live Map' : 'Loading...'}\n            </div>\n          )}\n        </div>\n        \n        {/* Search with Real-time Autocomplete */}\n        <div style={{\n          position: 'absolute',\n          top: '80px',\n          left: '20px',\n          right: '20px',\n          zIndex: 1000\n        }}>\n          <form \n            onSubmit={(e) => {\n              e.preventDefault();\n              if (searchValue.trim()) {\n                handleSearch(searchValue);\n                setShowAutocomplete(false);\n              }\n            }}\n            style={{ position: 'relative' }}\n          >\n            <span style={{\n              position: 'absolute',\n              left: '15px',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              color: '#666',\n              zIndex: 1001,\n              fontSize: '18px'\n            }}>\n              {autocompleteLoading ? 'â³' : 'ğŸ”'}\n            </span>\n            \n            <input \n              ref={(ref) => setSearchInputRef(ref)}\n              type=\"text\" \n              style={{\n                width: '100%',\n                maxWidth: '100%',\n                padding: '12px 50px 12px 45px',\n                border: showAutocomplete ? '2px solid #2c5aa0' : 'none',\n                borderRadius: showAutocomplete ? '8px 8px 0 0' : '8px',\n                fontSize: '16px',\n                color: '#333',\n                background: 'white',\n                boxShadow: showAutocomplete \n                  ? '0 2px 10px rgba(44,90,160,0.15)' \n                  : '0 2px 10px rgba(0,0,0,0.1)',\n                outline: 'none',\n                transition: 'all 0.2s ease',\n                boxSizing: 'border-box'\n              }}\n              placeholder=\"Search for any location...\"\n              value={searchValue}\n              onChange={(e) => handleInputChange(e.target.value)}\n              onKeyDown={handleKeyDown}\n              onFocus={() => {\n                if (searchValue.length >= 2 && autocompleteResults.length > 0) {\n                  setShowAutocomplete(true);\n                }\n              }}\n              onBlur={(e) => {\n                // FIX: Longer delay to allow clicks on suggestions\n                setTimeout(() => {\n                  // Only hide if user is not interacting with dropdown\n                  if (!document.activeElement || \n                      !document.activeElement.closest('[role=\"listbox\"]')) {\n                    setShowAutocomplete(false);\n                  }\n                }, 300);\n              }}\n              autoComplete=\"off\"\n            />\n            \n            {/* Clear button */}\n            {searchValue && (\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setSearchValue('');\n                  setShowAutocomplete(false);\n                  setAutocompleteResults([]);\n                  if (searchInputRef) {\n                    searchInputRef.focus();\n                  }\n                }}\n                style={{\n                  position: 'absolute',\n                  right: '15px',\n                  top: '50%',\n                  transform: 'translateY(-50%)',\n                  background: 'none',\n                  border: 'none',\n                  color: '#9ca3af',\n                  cursor: 'pointer',\n                  fontSize: '18px',\n                  padding: '4px',\n                  borderRadius: '50%',\n                  transition: 'color 0.2s ease'\n                }}\n                onMouseEnter={(e) => e.target.style.color = '#6b7280'}\n                onMouseLeave={(e) => e.target.style.color = '#9ca3af'}\n              >\n                âœ•\n              </button>\n            )}\n          </form>\n          \n          {/* Autocomplete Dropdown */}\n          <AutocompleteDropdown />\n        </div>\n\n        {/* Map Container */}\n        <div style={{\n          width: '100%',\n          height: 'calc(100vh - 80px)',\n          position: 'relative'\n        }}>\n          {/* Map div */}\n          <div \n            ref={mapRef} \n            style={{\n              width: '100%', \n              height: '100%',\n              minHeight: '400px',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              display: useRealMap && !mapLoading ? 'block' : 'none'\n            }} \n          />\n          \n          {/* Loading Overlay */}\n          {mapLoading && (\n            <div style={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div style={{\n                textAlign: 'center',\n                background: 'rgba(255, 255, 255, 0.95)',\n                borderRadius: '20px',\n                padding: '40px 30px',\n                boxShadow: '0 20px 60px rgba(0,0,0,0.1)'\n              }}>\n                <div style={{ fontSize: '48px', marginBottom: '20px' }}>ğŸ—ºï¸</div>\n                <div style={{\n                  width: '60px',\n                  height: '60px',\n                  border: '3px solid transparent',\n                  borderTop: '3px solid #2c5aa0',\n                  borderRadius: '50%',\n                  animation: 'spin 1.5s linear infinite',\n                  margin: '20px auto'\n                }}></div>\n                <h3 style={{\n                  color: '#2c5aa0',\n                  fontSize: '24px',\n                  fontWeight: 600,\n                  margin: '20px 0 10px 0'\n                }}>\n                  Loading Interactive Map\n                </h3>\n                <p style={{ color: '#666', fontSize: '16px', margin: '0' }}>\n                  Please wait...\n                </p>\n              </div>\n            </div>\n          )}\n          \n          {/* Offline Map Message */}\n          {!mapLoading && !useRealMap && (\n            <div style={{\n              width: '100%',\n              height: '100%',\n              background: '#f8f9fa',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n              padding: '40px',\n              textAlign: 'center'\n            }}>\n              <div style={{ fontSize: '64px', marginBottom: '20px' }}>ğŸ—ºï¸</div>\n              <h3 style={{ \n                color: '#495057', \n                fontSize: '24px', \n                fontWeight: 600, \n                margin: '0 0 15px 0' \n              }}>\n                Map Loading Failed\n              </h3>\n              <p style={{ \n                color: '#6c757d', \n                fontSize: '16px', \n                margin: '0 0 30px 0' \n              }}>\n                Please check your internet connection and try again.\n              </p>\n              <button \n                onClick={() => window.location.reload()}\n                style={{\n                  background: '#2c5aa0',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '12px',\n                  padding: '15px 25px',\n                  fontSize: '16px',\n                  fontWeight: 600,\n                  cursor: 'pointer'\n                }}\n              >\n                ğŸ”„ Retry\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Bottom Info */}\n        <div style={{\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          right: 0,\n          background: 'white',\n          padding: '20px',\n          boxShadow: '0 -2px 10px rgba(0,0,0,0.1)'\n        }}>\n          {/* Use Current Location Button */}\n          <button \n            style={{\n              background: locationLoading \n                ? '#ccc' \n                : enableHighAccuracy \n                ? 'linear-gradient(135deg, #059669 0%, #047857 100%)'\n                : 'linear-gradient(135deg, #2c5aa0 0%, #1e3d6f 100%)',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '15px 20px',\n              width: '100%',\n              textAlign: 'left',\n              cursor: locationLoading ? 'not-allowed' : 'pointer',\n              marginBottom: '20px',\n              display: 'flex',\n              alignItems: 'center',\n              fontSize: '16px',\n              color: 'white',\n              fontWeight: '600'\n            }}\n            onClick={useCurrentLocation}\n            disabled={locationLoading}\n          >\n            <span style={{ marginRight: '10px', fontSize: '18px' }}>\n              {locationLoading ? 'â³' : enableHighAccuracy ? 'ğŸ¯' : 'ğŸ“'}\n            </span>\n            <div style={{ flex: 1 }}>\n              <div style={{ fontSize: '16px' }}>\n                {locationLoading \n                  ? 'Getting Your Location...' \n                  : isCapacitorApp && isPermanentlyDenied\n                  ? 'Open Settings to Enable Location'\n                  : enableHighAccuracy \n                  ? 'Use High Accuracy Location'\n                  : 'Use Your Current Location'\n                }\n              </div>\n              {locationAttempts > 0 && !locationLoading && (\n                <div style={{ fontSize: '12px', opacity: 0.8, marginTop: '2px' }}>\n                  {isCapacitorApp \n                    ? isPermanentlyDenied \n                      ? 'Tap to open app settings automatically'\n                      : 'Tap to request permission again'\n                    : `Attempt ${locationAttempts + 1} â€¢ ${enableHighAccuracy ? 'High Accuracy' : 'Standard'}`\n                  }\n                </div>\n              )}\n            </div>\n          </button>\n\n          {/* Selected Address */}\n          <div style={{ marginBottom: '15px' }}>\n            <h3 style={{\n              fontSize: '16px',\n              fontWeight: 600,\n              marginBottom: '5px',\n              color: '#333',\n              margin: '0 0 5px 0'\n            }}>\n              {selectedLocation?.name || 'Select Location'}\n            </h3>\n            <p style={{\n              color: '#666',\n              fontSize: '14px',\n              lineHeight: 1.4,\n              margin: 0\n            }}>\n              {selectedLocation?.address || 'Please select a location on the map or use current location'}\n            </p>\n            {selectedLocation?.accuracy && (\n              <p style={{\n                color: '#9ca3af',\n                fontSize: '12px',\n                margin: '4px 0 0 0'\n              }}>\n                Accuracy: Â±{Math.round(selectedLocation.accuracy)}m\n              </p>\n            )}\n          </div>\n\n          {/* Confirm Button */}\n          <button \n            style={{\n              background: selectedLocation \n                ? 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)' \n                : '#e5e7eb',\n              color: selectedLocation ? 'white' : '#9ca3af',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '18px',\n              width: '100%',\n              fontSize: '17px',\n              fontWeight: 700,\n              cursor: selectedLocation ? 'pointer' : 'not-allowed',\n              textTransform: 'uppercase',\n              letterSpacing: '0.5px'\n            }}\n            onClick={handleConfirmLocation}\n            disabled={!selectedLocation}\n          >\n            CONFIRM LOCATION\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Map;\n"],"names":["GeolocationAPI","async","getCurrentPosition","options","Promise","resolve","reject","navigator","geolocation","err","code","message","watchPosition","cb","pos","clearWatch","_ref","id","Platform","getPlatform","App","constructor","this","isNative","platform","permissionStatus","locationWatchId","ensureHighAccuracy","_window","_window$cordova","_window$cordova$plugi","LA","window","cordova","plugins","locationAccuracy","canRequest","request","REQUEST_PRIORITY_HIGH_ACCURACY","console","log","warn","e","checkPermissionStatus","permissions","query","name","state","error","requestPermission","currentStatus","status","needsSettings","getCurrentLocation","finalOptions","enableHighAccuracy","timeout","maximumAge","arguments","length","undefined","position","latitude","coords","longitude","accuracy","timestamp","handleLocationError","watchLocation","callback","openAppSettings","errorMap","originalError","getAddressFromCoords","_window$google","_window$google$maps","google","maps","Geocoder","geocoder","res","geocode","location","lat","lng","results","_r$address_components","_r$address_components2","_r$address_components3","_r$address_components4","_r$address_components5","r","formatted","formatted_address","components","area","address_components","find","c","types","includes","long_name","city","country","pincode","key","resp","fetch","ok","_data$results","json","_","isLocationEnabled","loadGoogleMapsAPI","script","document","createElement","src","rej","onload","onerror","head","appendChild","defaultMapOptions","zoom","gestureHandling","Capacitor","isNativePlatform","Geolocation","opts","Device","onLocationSelect","onClose","mapRef","useRef","mapInstanceRef","markerRef","autocompleteTimeoutRef","selectedLocation","setSelectedLocation","useState","currentPosition","setCurrentPosition","mapLoading","setMapLoading","locationLoading","setLocationLoading","searchValue","setSearchValue","useRealMap","setUseRealMap","showLocationDialog","setShowLocationDialog","showHighAccuracyDialog","setShowHighAccuracyDialog","isCapacitorApp","setIsCapacitorApp","locationAttempts","setLocationAttempts","setEnableHighAccuracy","isPermanentlyDenied","setIsPermanentlyDenied","toast","setToast","show","type","autocompleteResults","setAutocompleteResults","showAutocomplete","setShowAutocomplete","autocompleteLoading","setAutocompleteLoading","selectedSuggestionIndex","setSelectedSuggestionIndex","searchInputRef","setSearchInputRef","useEffect","current","setMap","clearTimeout","showToast","setTimeout","requestCapacitorLocation","processLocationSuccess","errorMessage","checkError","newPosition","resolvedAddress","locationName","googleAddress","_result$address_compo","_result$address_compo2","_result$address_compo3","result","serviceAddress","locationService","toFixed","locationData","address","setPosition","panTo","setZoom","accuracyText","Math","round","isMounted","isNativeApp","sessionStorage","setItem","setupRealMap","map","Map","center","disableDefaultUI","zoomControl","zoomControlOptions","ControlPosition","RIGHT_BOTTOM","marker","Marker","draggable","title","icon","createCleanMarkerIcon","animation","Animation","DROP","addListener","getPosition","newPos","updateAddressFromCoordinates","event","latLng","Error","initializeMap","removeItem","clearInstanceListeners","_window$google2","_window$google2$maps","googleResult","_result$address_compo4","serviceError","handleSearch","searchText","trim","places","AutocompleteService","autocompleteService","placesService","PlacesService","input","componentRestrictions","getPlacePredictions","predictions","PlacesServiceStatus","OK","detailRequest","placeId","place_id","fields","getDetails","place","detailStatus","geometry","openDeviceSettings","settingsOpened","deviceInfo","settings","open","openSettingsError","appError","startPermissionMonitoring","showEnhancedManualInstructions","instructions","_deviceInfo$manufactu","_deviceInfo$manufactu2","_deviceInfo$manufactu3","manufacturer","toLowerCase","model","checkInterval","setInterval","clearInterval","permission","handleLocationDialogRetry","handleLocationDialogSettings","handleLocationDialogSkip","handleHighAccuracyEnable","handleHighAccuracySkip","PersistentLocationDialog","_jsx","style","top","left","width","height","background","zIndex","display","alignItems","justifyContent","padding","boxSizing","children","_jsxs","borderRadius","maxWidth","textAlign","boxShadow","fontSize","marginBottom","fontWeight","color","lineHeight","border","gap","flexDirection","onClick","cursor","textTransform","margin","transition","flex","marginTop","HighAccuracyDialog","performAutocompleteSearch","isGooglePlacesAvailable","formattedResults","slice","prediction","index","_prediction$structure","_prediction$structure2","primaryText","structured_formatting","main_text","description","secondaryText","secondary_text","fullText","handleSuggestionSelect","suggestion","_window$google3","_window$google3$maps","_window$google3$maps$","newLocation","AutocompleteDropdown","role","right","maxHeight","overflowY","borderTop","onMouseDown","preventDefault","borderBottom","backgroundColor","onMouseEnter","onMouseLeave","minWidth","overflow","textOverflow","whiteSpace","_Fragment","transform","marginRight","marginLeft","opacity","onSubmit","ref","outline","placeholder","value","onChange","handleInputChange","target","onKeyDown","prev","blur","onFocus","onBlur","activeElement","closest","autoComplete","focus","minHeight","reload","bottom","disabled","letterSpacing","handleConfirmLocation"],"sourceRoot":""}